<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Mon App Echo</title>
</head>
<body>
    <h1>Test de connexion</h1>
    <button id="btn">Appeler le Back-End</button>
    <p id="reponse"></p>

    <script>
        const button = document.getElementById('btn');
        const display = document.getElementById('reponse');

        button.addEventListener('click', async () => {
    try {
        const res = await fetch('/api/hello'); // On utilise l'URL simplifiée via Nginx
        const data = await res.json();
        
        // MISE À JOUR ICI : On affiche le message ET le compteur
        display.innerHTML = `
            <strong>Message :</strong> ${data.message} <br>
            <strong>Nombre de visites en base :</strong> ${data.compteur}
        `;
    } catch (error) {
        display.innerText = "Erreur : Le serveur est-il lancé ?";
    }
});
    </script>
</body>
</html>